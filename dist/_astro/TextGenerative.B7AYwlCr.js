import{j as M,c as $}from"./cn.Bh4i3_zX.js";import{r as q}from"./index.NEDEFKed.js";import{i as tt,f as et,c as nt,d as at,e as st,S as it,H as rt,v as j,g as ot,h as lt,j as ut,k as ct,l as ft,n as mt,r as ht,o as C,p as dt,q as gt,t as pt,w as yt,x as R,y as At,u as O,z as xt,m as P}from"./motion.DhRAmCJf.js";function vt(t){return q.useEffect(()=>()=>t(),[])}function U(t,e,n){var a;if(typeof t=="string"){let s=document;e&&(tt(!!e.current),s=e.current),n?((a=n[t])!==null&&a!==void 0||(n[t]=s.querySelectorAll(t)),t=n[t]):t=s.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function Et(t,e){let n;const a=()=>{const{currentTime:s}=e,r=(s===null?0:s.value)/100;n!==r&&t(r),n=r};return et.update(a,!0),()=>nt(a)}const St=at(()=>window.ScrollTimeline!==void 0);class J{constructor(e){this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let a=0;a<this.animations.length;a++)this.animations[a][e]=n}attachTimeline(e){const n=this.animations.map(a=>{if(St()&&a.attachTimeline)a.attachTimeline(e);else return a.pause(),Et(s=>{a.time=a.duration*s},e)});return()=>{n.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function bt(t){return typeof t=="object"&&!Array.isArray(t)}function Tt(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=st(t)?new it(e,{enableHardwareAcceleration:!1}):new rt(e,{enableHardwareAcceleration:!0});n.mount(t),j.set(t,n)}function wt(t,e=100){const n=ot({keyframes:[0,e],...t}),a=Math.min(lt(n),ut);return{type:"keyframes",ease:s=>n.next(a*s).value/e,duration:ct(a)}}function W(t,e,n,a){var s;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(s=a.get(e))!==null&&s!==void 0?s:t}const Mt=(t,e,n)=>{const a=e-t;return((n-t)%a+a)%a+t};function Dt(t,e){return ft(t)?t[Mt(0,t.length,e)]:t}function Vt(t,e,n){for(let a=0;a<t.length;a++){const s=t[a];s.at>e&&s.at<n&&(ht(t,s),a--)}}function jt(t,e,n,a,s,i){Vt(t,s,i);for(let r=0;r<e.length;r++)t.push({value:e[r],at:mt(s,i,a[r]),easing:Dt(n,r)})}function Ft(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Nt="easeInOut";function kt(t,{defaultTransition:e={},...n}={},a){const s=e.duration||.3,i=new Map,r=new Map,l={},o=new Map;let A=0,u=0,D=0;for(let E=0;E<t.length;E++){const h=t[E];if(typeof h=="string"){o.set(h,u);continue}else if(!Array.isArray(h)){o.set(h.name,W(u,h.at,A,o));continue}let[v,d,f={}]=h;f.at!==void 0&&(u=W(u,f.at,A,o));let m=0;const S=(g,p,x,T=0,w=0)=>{const c=Gt(g),{delay:V=0,times:b=dt(c),type:X="keyframes",...Y}=p;let{ease:F=e.ease||"easeOut",duration:y}=p;const N=typeof V=="function"?V(T,w):V,k=c.length;if(k<=2&&X==="spring"){let H=100;if(k===2&&Ht(c)){const Z=c[1]-c[0];H=Math.abs(Z)}const L={...Y};y!==void 0&&(L.duration=yt(y));const B=wt(L,H);F=B.ease,y=B.duration}y??(y=s);const G=u+N,I=G+y;b.length===1&&b[0]===0&&(b[1]=1);const K=b.length-c.length;K>0&&gt(b,K),c.length===1&&c.unshift(null),jt(x,c,F,b,G,I),m=Math.max(N+y,m),D=Math.max(I,D)};if(C(v)){const g=z(v,r);S(d,f,_("default",g))}else{const g=U(v,a,l),p=g.length;for(let x=0;x<p;x++){d=d,f=f;const T=g[x],w=z(T,r);for(const c in d)S(d[c],It(f,c),_(c,w),x,p)}}A=u,u+=m}return r.forEach((E,h)=>{for(const v in E){const d=E[v];d.sort(Ft);const f=[],m=[],S=[];for(let p=0;p<d.length;p++){const{at:x,value:T,easing:w}=d[p];f.push(T),m.push(pt(0,D,x)),S.push(w||"easeOut")}m[0]!==0&&(m.unshift(0),f.unshift(f[0]),S.unshift(Nt)),m[m.length-1]!==1&&(m.push(1),f.push(null)),i.has(h)||i.set(h,{keyframes:{},transition:{}});const g=i.get(h);g.keyframes[v]=f,g.transition[v]={...e,duration:D,ease:S,times:m,...n}}}),i}function z(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function _(t,e){return e[t]||(e[t]=[]),e[t]}function Gt(t){return Array.isArray(t)?t:[t]}function It(t,e){return t[e]?{...t,...t[e]}:{...t}}const Kt=t=>typeof t=="number",Ht=t=>t.every(Kt);function Q(t,e,n,a){const s=U(t,a),i=s.length,r=[];for(let l=0;l<i;l++){const o=s[l];j.has(o)||Tt(o);const A=j.get(o),u={...n};typeof u.delay=="function"&&(u.delay=u.delay(l,i)),r.push(...At(A,{...e,transition:u},{}))}return new J(r)}const Lt=t=>Array.isArray(t)&&Array.isArray(t[0]);function Bt(t,e,n){const a=[];return kt(t,e,n).forEach(({keyframes:i,transition:r},l)=>{let o;C(l)?o=R(l,i.default,r.default):o=Q(l,i,r),a.push(o)}),new J(a)}const Ot=t=>{function e(n,a,s){let i;return Lt(n)?i=Bt(n,a,t):bt(a)?i=Q(n,a,s,t):i=R(n,a,s),t&&t.animations.push(i),i}return e};function Pt(){const t=O(()=>({current:null,animations:[]})),e=O(()=>Ot(t));return vt(()=>{t.animations.forEach(n=>n.stop())}),[t,e]}function Wt(t,e){if(t==="first")return 0;{const n=e-1;return t==="last"?n:n/2}}function zt(t=.1,{startDelay:e=0,from:n=0,ease:a}={}){return(s,i)=>{const r=typeof n=="number"?n:Wt(n,i),l=Math.abs(r-s);let o=t*l;if(a){const A=i*t;o=xt(a)(o/A)*A}return e+o}}const Rt=({words:t,className:e})=>{const[n,a]=Pt();let s=t.split(" ");q.useEffect(()=>{a("span",{opacity:1},{duration:2,delay:zt(.2)})},[n.current]);const i=()=>M.jsx(P.div,{ref:n,children:s.map((r,l)=>M.jsxs(P.span,{className:"text-md font-bold tracking-tighter sm:text-5xl xl:text-6xl/none bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-500",children:[r," "]},r+l))});return M.jsx("div",{className:$("font-bold",e),children:M.jsx("div",{className:"mt-4",children:M.jsx("div",{className:"  text-black text-2xl leading-snug tracking-wide",children:i()})})})};export{Rt as TextGenerateEffect};
