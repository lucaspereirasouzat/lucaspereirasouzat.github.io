const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/Utils.DplgaPRH.js","_astro/Circle.BsfAXaX2.js","_astro/sparkTitle.DCU_Odjx.js","_astro/cn.Bh4i3_zX.js","_astro/index.NEDEFKed.js","_astro/motion.DhRAmCJf.js"])))=>i.map(i=>d[i]);
import{q as p,t as m,J as n,_ as u}from"./sparkTitle.DCU_Odjx.js";import{Attract as f}from"./index.BBCYDk49.js";import{E as h}from"./ExternalInteractorBase.CIi3zRdK.js";import"./cn.Bh4i3_zX.js";import"./index.NEDEFKed.js";import"./motion.DhRAmCJf.js";const s="attract";class O extends h{constructor(a,t){super(t),this._engine=a,t.attract||(t.attract={particles:[]}),this.handleClickMode=e=>{const r=this.container.actualOptions,i=r.interactivity.modes.attract;if(!(!i||e!==s)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const c of t.attract.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},i.duration*p)}}}clear(){}init(){const a=this.container,t=a.actualOptions.interactivity.modes.attract;t&&(a.retina.attractModeDistance=t.distance*a.retina.pixelRatio)}async interact(){const a=this.container,t=a.actualOptions,e=a.interactivity.status===m,r=t.interactivity.events,{enable:i,mode:c}=r.onHover,{enable:l,mode:v}=r.onClick;if(e&&i&&n(s,c)){const{hoverAttract:d}=await u(async()=>{const{hoverAttract:o}=await import("./Utils.DplgaPRH.js");return{hoverAttract:o}},__vite__mapDeps([0,1,2,3,4,5]));d(this.container,o=>this.isEnabled(o))}else if(l&&n(s,v)){const{clickAttract:d}=await u(async()=>{const{clickAttract:o}=await import("./Utils.DplgaPRH.js");return{clickAttract:o}},__vite__mapDeps([0,1,2,3,4,5]));d(this.container,o=>this.isEnabled(o))}}isEnabled(a){const t=this.container,e=t.actualOptions,r=t.interactivity.mouse,i=(a?.interactivity??e.interactivity).events;if((!r.position||!i.onHover.enable)&&(!r.clickPosition||!i.onClick.enable))return!1;const c=i.onHover.mode,l=i.onClick.mode;return n(s,c)||n(s,l)}loadModeOptions(a,...t){a.attract||(a.attract=new f);for(const e of t)a.attract.load(e?.attract)}reset(){}}export{O as Attractor};
