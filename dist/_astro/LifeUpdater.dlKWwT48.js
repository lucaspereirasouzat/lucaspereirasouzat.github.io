const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/Utils.BSKd8cPO.js","_astro/sparkTitle.DCU_Odjx.js","_astro/cn.Bh4i3_zX.js","_astro/index.NEDEFKed.js","_astro/motion.DhRAmCJf.js"])))=>i.map(i=>d[i]);
import{H as r,Y as u,q as a,_ as l}from"./sparkTitle.DCU_Odjx.js";import{V as f}from"./ValueWithRandom.t-Fg5jCW.js";import"./cn.Bh4i3_zX.js";import"./index.NEDEFKed.js";import"./motion.DhRAmCJf.js";class y extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class h extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class m{constructor(){this.count=0,this.delay=new y,this.duration=new h}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const t=0,c=1,d=-1;class V{constructor(e){this.container=e}async init(e){const i=this.container,s=e.options,n=s.life;n&&(e.life={delay:i.retina.reduceFactor?r(n.delay.value)*(n.delay.sync?c:u())/i.retina.reduceFactor*a:t,delayTime:t,duration:i.retina.reduceFactor?r(n.duration.value)*(n.duration.sync?c:u())/i.retina.reduceFactor*a:t,time:t,count:n.count},e.life.duration<=t&&(e.life.duration=d),e.life.count<=t&&(e.life.count=d),e.life&&(e.spawning=e.life.delay>t),await Promise.resolve())}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.life||(e.life=new m);for(const s of i)e.life.load(s?.life)}async update(e,i){if(!this.isEnabled(e)||!e.life)return;const{updateLife:s}=await l(async()=>{const{updateLife:n}=await import("./Utils.BSKd8cPO.js");return{updateLife:n}},__vite__mapDeps([0,1,2,3,4]));s(e,i,this.container.canvas.size)}}export{V as LifeUpdater};
