import{j as x,c as ge}from"./cn.Bh4i3_zX.js";import{r as ce}from"./index.NEDEFKed.js";import{m as me}from"./motion.DhRAmCJf.js";const we=1/3,C=1/6,de=a=>Math.floor(a)|0,ue=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function be(a=Math.random){const i=pe(a),l=new Float64Array(i).map(h=>ue[h%12*3]),s=new Float64Array(i).map(h=>ue[h%12*3+1]),w=new Float64Array(i).map(h=>ue[h%12*3+2]);return function(F,T,M){let O,N,G,I;const E=(F+T+M)*we,H=de(F+E),L=de(T+E),D=de(M+E),Y=(H+L+D)*C,ee=H-Y,te=L-Y,U=D-Y,b=F-ee,o=T-te,f=M-U;let y,c,z,S,p,j;b>=o?o>=f?(y=1,c=0,z=0,S=1,p=1,j=0):b>=f?(y=1,c=0,z=0,S=1,p=0,j=1):(y=0,c=0,z=1,S=1,p=0,j=1):o<f?(y=0,c=0,z=1,S=0,p=1,j=1):b<f?(y=0,c=1,z=0,S=0,p=1,j=1):(y=0,c=1,z=0,S=1,p=1,j=0);const W=b-y+C,P=o-c+C,R=f-z+C,$=b-S+2*C,q=o-p+2*C,B=f-j+2*C,V=b-1+3*C,k=o-1+3*C,X=f-1+3*C,v=H&255,e=L&255,t=D&255;let n=.6-b*b-o*o-f*f;if(n<0)O=0;else{const r=v+i[e+i[t]];n*=n,O=n*n*(l[r]*b+s[r]*o+w[r]*f)}let d=.6-W*W-P*P-R*R;if(d<0)N=0;else{const r=v+y+i[e+c+i[t+z]];d*=d,N=d*d*(l[r]*W+s[r]*P+w[r]*R)}let g=.6-$*$-q*q-B*B;if(g<0)G=0;else{const r=v+S+i[e+p+i[t+j]];g*=g,G=g*g*(l[r]*$+s[r]*q+w[r]*B)}let m=.6-V*V-k*k-X*X;if(m<0)I=0;else{const r=v+1+i[e+1+i[t+1]];m*=m,I=m*m*(l[r]*V+s[r]*k+w[r]*X)}return 32*(O+N+G+I)}}function pe(a){const l=new Uint8Array(512);for(let s=0;s<512/2;s++)l[s]=s;for(let s=0;s<512/2-1;s++){const w=s+~~(a()*(256-s)),h=l[s];l[s]=l[w],l[w]=h}for(let s=256;s<512;s++)l[s]=l[s-256];return l}const je=a=>{const i=ce.useRef(null),l=ce.useRef(null),s=a.particleCount||700,w=9,h=s*w,F=a.rangeY||100,T=50,M=150,O=a.baseSpeed||0,N=a.rangeSpeed||1.5,G=a.baseRadius||1,I=a.rangeRadius||2,E=a.baseHue||220,H=100,L=3,D=.00125,Y=.00125,ee=5e-4,te=a.backgroundColor||"#000000";let U=0;const b=be();let o=new Float32Array(h),f=[0,0];const y=2*Math.PI,c=e=>e*Math.random(),z=e=>e-c(2*e),S=(e,t)=>{let n=.5*t;return Math.abs((e+n)%t-n)/n},p=(e,t,n)=>(1-n)*e+n*t,j=()=>{const e=i.current,t=l.current;if(e&&t){const n=e.getContext("2d");n&&(k(e),W(),R(e,n))}},W=()=>{U=0,o=new Float32Array(h);for(let e=0;e<h;e+=w)P(e)},P=e=>{const t=i.current;if(!t)return;let n,d,g,m,r,A,u,Q,_;n=c(t.width),d=f[1]+z(F),g=0,m=0,r=0,A=T+c(M),u=O+c(N),Q=G+c(I),_=E+c(H),o.set([n,d,g,m,r,A,u,Q,_],e)},R=(e,t)=>{U++,t.clearRect(0,0,e.width,e.height),t.fillStyle=te,t.fillRect(0,0,e.width,e.height),$(t),X(e,t),v(e,t),window.requestAnimationFrame(()=>R(e,t))},$=e=>{for(let t=0;t<h;t+=w)q(t,e)},q=(e,t)=>{const n=i.current;if(!n)return;let d=1+e,g=2+e,m=3+e,r=4+e,A=5+e,u=6+e,Q=7+e,_=8+e,ne,Z,J,oe,se,K,re,ie,ae,le,fe,he;Z=o[e],J=o[d],ne=b(Z*D,J*Y,U*ee)*L*y,oe=p(o[g],Math.cos(ne),.5),se=p(o[m],Math.sin(ne),.5),K=o[r],re=o[A],ie=o[u],ae=Z+oe*ie,le=J+se*ie,fe=o[Q],he=o[_],B(Z,J,ae,le,K,re,fe,he,t),K++,o[e]=ae,o[d]=le,o[g]=oe,o[m]=se,o[r]=K,(V(Z,J,n)||K>re)&&P(e)},B=(e,t,n,d,g,m,r,A,u)=>{u.save(),u.lineCap="round",u.lineWidth=r,u.strokeStyle=`hsla(${A},100%,60%,${S(g,m)})`,u.beginPath(),u.moveTo(e,t),u.lineTo(n,d),u.stroke(),u.closePath(),u.restore()},V=(e,t,n)=>e>n.width||e<0||t>n.height||t<0,k=(e,t)=>{const{innerWidth:n,innerHeight:d}=window;e.width=n,e.height=d,f[0]=.5*e.width,f[1]=.5*e.height},X=(e,t)=>{t.save(),t.filter="blur(8px) brightness(200%)",t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore(),t.save(),t.filter="blur(4px) brightness(200%)",t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore()},v=(e,t)=>{t.save(),t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore()};return ce.useEffect(()=>{j(),window.addEventListener("resize",()=>{const e=i.current,t=e?.getContext("2d");e&&t&&k(e)})},[]),x.jsxs("div",{className:ge("relative h-full w-full",a.containerClassName),children:[x.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},ref:l,className:"absolute h-full w-full inset-0 z-0 bg-transparent flex items-center justify-center",children:x.jsx("canvas",{ref:i})}),x.jsx("div",{className:ge("relative z-10",a.className),children:a.children})]})};export{je as Vortex};
